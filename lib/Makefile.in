CC=@CC@
@SET_MAKE@

top_srcdir=@top_srcdir@
srcdir=@srcdir@
VPATH=@srcdir@

include ../Make.rules

AR=ar
LIB_DEPS=@LIB_DEPS@
LIB_OBJS=@LIB_OBJS@
RANLIB=@RANLIB@

"":

dummy:

all:
	@echo "Running make from top level directory."
	cd ../ && $(MAKE) all

Makefile: Makefile.in ../config.status
	cd ../ && ./config.status


.c.o:
	$(CC) $(CPPFLAGS) $(CFLAGS) -c $<

libltdl: dummy
	cd libltdl/ && $(MAKE)

libsupp.a: $(LIB_OBJS)
	$(AR) rc libsupp.a $(LIB_OBJS)
	$(RANLIB) libsupp.a

lib: libsupp.a $(LIB_DEPS)

clean:
	rm -f *.o libsupp.a
	test -z $(LIB_DEPS) || (cd libltdl/ && $(MAKE) clean)

depend:
	makedepend $(CPPFLAGS) -Y *.c 2>/dev/null
	makedepend $(CPPFLAGS) -Y -fMakefile.in *.c 2>/dev/null

distclean:
	test -z $(LIB_DEPS) || (cd libltdl/ && $(MAKE) distclean)

# Dependancies written below
# DO NOT DELETE

getopt.o: getopt.h
getopt1.o: getopt.h
glibc-glob.o: ../config.h ../include/glibc-glob.h
glibc-mkstemp.o: ../include/conf.h ../include/version.h
glibc-mkstemp.o: ../include/buildstamp.h ../config.h
glibc-mkstemp.o: ../include/default_paths.h ../include/options.h
pr-syslog.o: ../include/conf.h ../include/version.h ../include/buildstamp.h
pr-syslog.o: ../config.h ../include/default_paths.h ../include/options.h
pr_fnmatch.o: ../include/conf.h ../include/version.h ../include/buildstamp.h
pr_fnmatch.o: ../config.h ../include/default_paths.h ../include/options.h
pr_fnmatch.o: ../include/libsupp.h ../include/glibc-glob.h pr_fnmatch_loop.c
pwgrent.o: ../include/conf.h ../include/version.h ../include/buildstamp.h
pwgrent.o: ../config.h ../include/default_paths.h ../include/options.h
strsep.o: ../include/conf.h ../include/version.h ../include/buildstamp.h
strsep.o: ../config.h ../include/default_paths.h ../include/options.h
strsep.o: ../include/libsupp.h ../include/glibc-glob.h
vsnprintf.o: ../include/conf.h ../include/version.h ../include/buildstamp.h
vsnprintf.o: ../config.h ../include/default_paths.h ../include/options.h
vsnprintf.o: ../include/libsupp.h ../include/glibc-glob.h
