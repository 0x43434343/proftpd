                    1.3.1 Release Notes
                  ------------------------

This file contains a description of the major changes to ProFTPD for the
1.3.1 release cycle, from the 1.3.1rc1 release to the 1.3.1-stable release.
More information on these changes can be found in the NEWS and ChangeLog
files.

1.3.1rc1
---------
  + Command changes:

      MDTM now always returns times in GTM, regardless of TimesGMT setting

  + New configuration directives:

      DisplayChdir

        This directive replaces the old DisplayFirstChdir directive,
        and will cause the configured file to be displayed whenever the
        client changes into the directory in question, rather than only
        once.

        To get the previous behavior, use:

          DisplayChdir path true

        which says to display the given path only once.

      DisplayFileTransfer

        Whenever a file has been successfully uploaded/downloaded, the
        configured file will be displayed to the client.

      FACLEngine

        The mod_facl module is used to support POSIX ACLs, and is built
        into proftpd if the --enable-facl configure option is used.
        To disable POSIX ACL support at runtime, use this new directive
        in your proftpd.conf:

          <IfModule mod_facl.c>
            FACLEngine off
          </IfModule>

      QuotaOptions
        ScanOnLogin

      SQLOptions
        noDisconnectOnError
        useNormalizedGroupSchema

      TLSCryptoDevice

        With this directive, the mod_tls module can now make use of
        OpenSSL's support for cryptographic accelerator cards, known
        as "engines" in the OpenSSL documentation.

      TLSPassPhraseProvider

        The mod_tls module now has support for obtaining passphrases
        for certificate keys via an external program.  This directive
        is similiar to the Apache mod_ssl module's SSLPassPhraseDialog
        directive (but not *quite* the same; see the documentation for
        details.)

      Trace, TraceLog

      UseIPv6

        To disable IPv6 support in a running proftpd, you can place:

          UseIPv6 on|off

        at the top of your proftpd.conf.

        Alternatively, there are command-line options for controlling
        this:

          -4, --ipv4     Support IPv4 functionality only
          -6, --ipv6     Support IPv6 functionality

        Instead of using the UseIPv6 configuration directive, you can
        invoke proftpd using the -4 command-line option:

          proftpd -4 ...

      UseLastlog

        Enables use of logging to lastlog files.

      UseUTF8

        Disables use of UTF8 encoding for file paths.  If the --enable-nls
        configure option is used, then UTF8 encoding support will be
        enabled by default.

  + Enhanced configuration directives:

      CreateHome uid gid

      LogFormat %S, %{version}

      SQLConnectInfo MySQL Unix domain socket

      SQLNamedQuery
        %{env:VAR}

      SQLGroupWhereClause, SQLUserWhereClause
        variables except for %{n} numeric references supported

      TLSRequired auth, auth+data

  + New configure options:

      --enable-devel=stacktrace

        This configure option enables logging of the call stack trace
        whenever a SIGSEGV signal is received.  Very very useful for
        tracking down the cause of a segfault.

      --enable-nls

      --with-lastlog[=PATH]

        Automatic determination
        /var/adm/lastlog
 
  + New modules:

      mod_ban

        This module supports dynamic "blacklists" based on configurable
        rules.  See the documentation for more details:

          doc/contrib/mod_ban.html

      mod_lang

        This module is part of the internationalization/RFC2640 support,
        handling the LANG command.  More information can be found at:

          doc/modules/mod_lang.html

      mod_quotatab_radius

        This new module provides support for obtaining quota limits via
        RADIUS, and is part of the mod_quotatab family.  More details
        are available in:

          doc/contrib/mod_quotatab_radius.html

      mod_wrap2, mod_wrap2_file, mod_wrap2_sql

        These modules are intended to replace mod_wrap, and provides ways
        of maintaining tcpwrapper-like rules in both existing files *and*
        SQL tables.  The documentation for these are:

          doc/contrib/mod_wrap2.html
          doc/contrib/mod_wrap2_file.html
          doc/contrib/mod_wrap2_sql.html

  + New documentation:

      doc/howto/CreateHome.html

  + Module enhancements:

     mod_ctrls_admin

       New 'scoreboard' control action, for scrubbing the ScoreboardFile
       on demand.

  + Deprecated configuration directives:

      DisplayFirstChdir

        This directive is deprecated in favor the new DisplayChdir
        directive.  Support for this will be removed in future
        releases.

      HiddenStor

        Use the HiddenStores instead; support for the HiddenStor directive
        will be removed in future releases.

      SQLHomedirOnDemand

        The CreateHome directive would be used instead.  For more
        information on CreateHome, see:

          doc/howto/CreateHome.html

Last Updated: $Date: 2006-12-02 01:08:58 $
