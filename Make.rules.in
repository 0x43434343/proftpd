# -*- Makefile -*-
# Automagically generated by configure

# prefix & paths
prefix=@prefix@
exec_prefix=@exec_prefix@
bindir=@bindir@
sbindir=@sbindir@
sysconfdir=@sysconfdir@
localstatedir=@localstatedir@
rundir=@localstatedir@/proftpd
mandir=@mandir@

PLATFORM=@OSREL@ @OSTYPE@
LDFLAGS=@LDFLAGS@
LIBS=@LIBS@

DEFAULT_PATHS=-DCONFIG_FILE_PATH=\"$(sysconfdir)/proftpd.conf\" -DRUN_DIR=\"$(rundir)\"
CPPFLAGS=@CPPFLAGS@ $(DEFAULT_PATHS) $(PLATFORM) -I.. -I$(top_srcdir)/include
CFLAGS=@CFLAGS@

#Defines for memory testing and debugging.
#CFLAGS=-g3 -Dstrncpy="MYSTRNCPY" -DDEBUG_NOFORK -DDEBUG_MEMORY
#LIBS=-lefence
#
#CFLAGS=-g -DUSESHADOW -DDEBUG_NOFORK 
# Below is for ANSI c testing, normally not used because system
# header files generate loads o' warnings.
#CFLAGS=-g -pedantic -DUSESHADOW -DDEBUG_NOFORK

# Use the following to set the proper options above:
# -DUSESHADOW
#   (use the shadow password suite)
# -DAUTOSHADOW
#   (enable support for automatic run-time shadow detection.
#    NOT recommended except for binary distributions, use
#    configure --enable-autoshadow to force this on)
# -DDEBUG_NOFORK
#   (server in standalone mode will not fork for incoming connections)
# -DDEBUG_NOSIG
#   (server will not catch signals that cause termination)

OBJS=main.o timers.o sets.o pool.o dirtree.o support.o inet.o log.o \
     io.o ident.o data.o modules.o auth.o fs.o
BUILD_OBJS=src/main.o src/timers.o src/sets.o src/pool.o src/dirtree.o \
           src/support.o src/inet.o src/log.o src/io.o src/ident.o \
           src/data.o src/modules.o src/auth.o src/fs.o

LIB_OBJS=getopt.o getopt1.o fnmatch.o strsep.o vsnprintf.o glob.o pwgrent.o

FTPCOUNT_OBJS=ftpcount.o pool.o log.o utils.o
BUILD_FTPCOUNT_OBJS=src/ftpcount.o src/pool.o src/log.o src/utils.o

FTPWHO_OBJS=ftpwho.o pool.o log.o utils.o
BUILD_FTPWHO_OBJS=src/ftpwho.o src/pool.o src/log.o src/utils.o

FTPSHUT_OBJS=ftpshut.o
BUILD_FTPSHUT_OBJS=src/ftpshut.o

DEFINES=$(OPTIONS) $(PLATFORM)
