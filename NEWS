$Id: NEWS,v 1.94 2001-04-11 18:57:41 flood Exp $

1.2.2rc2 - CVS
---------------------------------
- Bug 1093 - Checking for world writable log files and symlinks.
- Bug 1094 - AuthUserFile/AuthGroupFile disallow relative paths.
- Bug 1096 - Case sensitivity issues in config, better checking of
  RLimit* directive arguments.

1.2.2rc1 - Released 03/24/2001
---------------------------------
- Bug 1085 - Better logging of "User is not a UserAlias" and "Can't find
  user."
- Bug 1043 - Fixed possible infinite loop in bandwidth throttling code.
- New RLimit* directives used to control resource usage on support platforms.
- Bug 1075 - Sub-contexts (<Directory>, etc) weren't being fully copied from
  <Global> to vhosts.
- Bug 1049 - New User/Groups weren't being seen after startup w/out a SIGHUP.
- Bug 1066 - new GNU glob() and friends, which properly limits recursion and
  avoids DoS issues.  Built-in glob support is now always compiled in to
  proftpd regardless of libc support on build platform.
- New directive "MasqueradeAddress", used to emit a "fake" (non-interface) IP
  in server ident, magic cookies and PASV commands.  Useful for firewalled or
  NAT'd networks that are not FTP aware.
- Bug 1044 - New directive "AccessDenyMsg", works just like AccessAllowMsg,
  but does the obvious.
- Bug 1055 - Not really a bug, but still .. ftpwho/ftpcount now attempt to
  scan proftpd.conf looking for ScoreboardPath, if all else fails
- Bug 1042 - <Directory /> arbitrarily not matching.

1.2.1 - Released 03/01/2001
---------------------------------
- A relatively major issue was discovered with session.groups which may cause
  any group-expressions inside of <Limit> (DenyGroup, etc) to malfunction.
  This is the primary reason for the 1.2.1 release.
- Default CFLAGS changed from "-g3 -O6" to "-O2" because it is reported
  that -O6 is highly experimental, and including debugging really isn't all
  the useful, as someone _really_ interested in debugging can edit Make.rules.
- Defining classes without an explicit "Classes On" now generates a log
  warning.
- New mod_sql and mod_ldap from their respective maintainers.

1.2.0-final - Released 02/26/2001
---------------------------------
- Numerous additional bug fixes from Bugzilla.  See http://bugs.proftpd.org
  for more info.
- New and updated README.* and INSTALL.
- initgroups() support has been removed, it will be re-added in 1.3 after we
  have proper modular support in authentication modules.
- mod_sql.c, mod_sql_mysql.c and mod_sql_postgres.c back in, with a new
  maintainer (replacements for mod_sqlpw and friends).
- instead of using kill(pid,SIGCONT) to determine if scoreboard pids are
  correct, proftpd now uses kill(pid,0) which should be a lot lighter on
  heavy-load systems.  Thanks to Rob Schulhof <rrs@digisle.net> for pointing
  out that kill(pid,0) is both valid AND useful. ;) Also removed some
  completely useless and redundant /proc stat code which did the same thing
  as kill(pid,0) on linux systems.
- logging to file (via SystemLog) is now done with a single write instead of
  two in order to be atomic.

1.2.0rc3 - Released: 02/05/2001
-------------------------------
- mod_sqlpw.c, mod_mysql.c and mod_pgsql.c have been REMOVED from the
  distribution.  They are currently unmaintained and have numerous bugs.
  If any kind soul <grin> is interested in maintaining them, they may be
  brought back into a future version of proftpd.
- sendfile now defaults to off, use --enable-sendfile at configure
  time to enable.  Additionally, sendfile is probably fixed.
- initgroups/getgroups new defaults to off, use --enable-initgroups at
  configure time to enable (mainly useful for large systems).  Be careful,
  though, as initgroups/getgroups breaks module handling and will not work
  in conjunction with other third-party modules (mod_sqlpw, etc).
- Passive FTP works properly now (was broken in RC2).
- Compilation problems fixed on some obscure platforms.
- PAM authentication finally works again on Solaris (due to an annoying bug in
  Solaris).
- Added the DeleteAbortedStores directive.
- Fixed a minor bug in SITE HELP.
- Eliminated a race when logging in with MaxClients.
- AllowChmod defaults to 'on' now for simplicity and compatibility.
- Honor ExtendedLog NONE.
- Added SyslogLevel directive.
- Added --with-includes option to configure.
- Added --with-libraries option to configure.
- On systems with wtmpx, don't use wtmp at all.
- Handle files that begin with ~ properly.
- Documentation updated for PAM on FreeBSD operating systems.
- NUMEROUS other bug fixes, including many security issues

1.2.0RC2 - Released: 07/28/2000
-------------------------------
- Made sure ServerUseReverseDNS was honored.
- Compile problems on various problems.
- Added descriptions for more errors to be more RFC compliant.
- UID/GID handling is more portable now on systems with unusual UID/GID sizes.
- PAM handles should be persistent across jailed environments.
- Various additions to configure to make it more portable and correct.
- AllowChmod works properly now.
- HP/UX sendfile support.
- Cleaned up configure and supporting files.

1.2.0RCl - Released: 07/11/2000
-------------------------------
- Fixed a bug in mod_ls that could cause a crash.
- Fixed a minor bug related to group permissions.
- Fixed a bug in calculating file system size when using statvfs.
- Fixed a bug when a 'TYPE L' directive is passed improperly.
- Fixed Umask directive handling in directories.
- Changed bandwidth throttling to use select() instead of usleep() to work
  better across platforms.
- Updated mod_ldap to 2.5.2.
- Environment is now preserved before trying anything fancy with set_proc_title.
- Warn a user if an invalid class is specified in ExtendedLog.
- Logging of transfer times is more precise now.
- mod_quota now comes with ProFTPD in the contrib directory.
- FreeBSD 4.0 support.
- Unixware support.
- Updated config.guess and config.sub to reflect new platforms.
- Added a %k directive to DisplayQuit that shows a more user-friendly count of
  data transferred (ie: 23MB, 1.2GB, etc.).
- Added a -t option to ProFTPD to allow syntax testing of a config file.
- Made config file errors more useful by giving the filename and line number of
  the error.
- Added %A, %F, and %m directives to LogFormat to allow for the creation of
  CLF-style logs.
- Portability fixes to mod_tar.
- Timezone is preserved across jailed environments now.
- Slightly optimized directory listing/sorting in mod_ls as an interim measure.
  mod_ls will be rewritten entirely in 1.3.
- Added a -L option to mod_ls, so things like mirror work properly with
  symbolic links.
- Fixed the 'password shows up where username should be' problem with MySQL
  authentication.
- Fixed a potential security problem in setproctitle-enabled systems.
- Documented a buffer issue with CustomLog -- This will be entirely rewritten
  in 1.3.
- Fixed a potential buffer problem in mod_ls.
- Clarified syslog message information in INSTALL.
- ProFTPD will now generate a PID file in standalone operation.
- DisplayReadme now accepts patterns.
- Added AllowChmod directive.
- Allow comments and blank lines in password files.
- *snprintf emulation was incomplete on Solaris and other platforms with no
  *snprintf implementation.
- PAM now properly registers and closes a session, conforming closer to the PAM
  specification.
- More documentation updates.
- Fix a permissions display problem under certain circumstances.
- Minor fixes to classes support.
- AllowForeignAddress now applies to passive connections as well.
- Major performance upgrade to groups initialization.  Those that have large
  groups shouldn't see the 'hangs forever on login' problems.
- Fixed GroupOwner's semantics and added the related UserOwner directive.
- Added SQLKey, SQLKeyField, and SQLAuthoritative to mod_sql.
- Fixed access checks for LIST and NLST.
- Cleaned up use of '.' and '..' in mod_ls.
- Fixed a case where ServerUseReverseDNS wasn't being honored.

1.2.0pre10 - Released: 1/17/00
------------------------------
- sendfile() handles errors and non-optimal conditions The Right Way(tm).

- install_group works right in warped cases of having more than one GID 0
  group defined.  No, don't ask. :)

- sendfile() doesn't log spurious messages unless it's in debug mode now.

- A meaningful error is now generated with bad group files.

- Complex group permissions work correctly now, where they did not in a
  rare case.

- Updated included version of mod_ldap.

- Bandwidth and sendfile() use are now mutually exclusive.

- Corrected minor log issues.

- Fixed various compilation issues on various platforms (isn't this vague :)).

- More informative error messages.

- Minor semi-Y2K issue in mod_readme fixed (don't ask...look at the code :)).

- Corrected error messages on most commands in cases where an invalid number
  of arguments are specified.

- An error message is now generated when ~ expansion is meaningless.

- Invalid host entries don't show up as (null) anymore.

1.2.0pre9 - Released: 10/27/99
------------------------------
- New support for BSD sendfile() semantics.

- sendfile() deprecates politely on Linux 2.0.x.

- AuthPAMAuthoritative now defaults to False.  This should clear up any
  confusion on using PAM with AuthUserFile and friends.

- Removed Bandwidth from the documentation.

- Fixed a rare segfault in mod_auth.

- Logging has changed slightly to be more informative and more consistent.
    All messages that get logged are now preceded with
    <virtualhost> (remote host[remote ip]).

- mod_ldap for authentication against LDAP directories is now in place.

- ftpwho/ftpcount -- a grammatical error corrected, and they now build
    as seperate binaries.

- Fixed the 'no names, just UIDs' bug.

- Added genuser.pl to facilitate AuthUserFile entry creation.

- Umask now takes an optional second argument, specifying a directory umask.

- Work around FreeBSD's broken setpassent(), and a new option to override
    this in fixed versions of FreeBSD's libc (--enable-force-setpassent).

- Generate RPMs for both inetd and standalone versions of ProFTPD.

- Added AuthUsingAlias to allow for more fine-grain control of anonymous
    logins.

- Added support for 'TYPE L 8' and 'TYPE L 7' per RFC 959.

