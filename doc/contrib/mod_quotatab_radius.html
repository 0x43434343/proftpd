<!-- $Id: mod_quotatab_radius.html,v 1.2 2006-04-17 22:38:32 castaglia Exp $ -->
<!-- $Source: /home/proftpd-core/backup/proftp-cvsroot/proftpd/doc/contrib/mod_quotatab_radius.html,v $ -->

<html>
<head>
<title>ProFTPD module mod_quotatab_radius</title>
</head>

<body bgcolor=white>

<hr><br>
<center>
<h2><b>ProFTPD module <code>mod_quotatab_radius</code></b></h2>
</center>
<hr><br>

This <code>mod_quotatab</code> submodule is contained in the
<code>mod_quotatab_radius.c</code>, part of the <code>mod_quotatab</code>
package and is not compiled by default.  See the <code>mod_quotatab</code>
documentation for <a href="mod_quotatab.html#Installation">installation</a>
instructions.

<p>
This submodule provides the RADIUS-specific &quot;driver&quot; for retrieving
quota limit table information from a RADIUS server.

<h2>Author</h2>
<p>
Please contact TJ Saunders &lt;tj <i>at</i> castaglia.org&gt; with any
questions, concerns, or suggestions regarding this module.

<p>
<hr><h2><a name="RADIUSTables">RADIUS Limit Quota Tables</a></h2>
RADIUS-based quota tables (<em>source-type</em> of &quot;radius&quot;) can
only be used for limit tables, <b>not</b> for tally tables.  The frequent
updates needed for maintaining tally tables mean that RADIUS is not well-suited
to handle tally table storage.

<p>
The <code>mod_quotatab_radius</code> module supports the &quot;radius&quot;
string for the <em>source-type</em> parameter of the
<a href="mod_quotatab.html#QuotaLimitTable"><code>QuotaLimitTable</code></a>
configuration directive.

<p>
The RADIUS attribute to be looked up should contain a comma-separated list of
values, in the following order:
<pre>
  <i>per_session,limit_type,bytes_in_avail,bytes_out_avail,bytes_xfer_avail,
    files_in_avail,files_out_avail,files_xfer_avail</i>
</pre>
For example:
<pre>
  &quot;false,hard,100,100,100,100,100,100&quot;
</pre>

<p>
An example <code>proftpd.conf</code> configuration might look like:
<pre>
  &lt;IfModule mod_quotatab.c&gt;
    &lt;IfModule mod_quotatab_radius.c&gt;
      # Use a RADIUS-based limit table
      QuotaLimitTable radius:$(777:false,hard,100,100,100,100,100,100)
    &lt;/IfModule&gt;

    # Use a file-based tally table
    QuotaTallyTable file:/usr/local/proftpd/ftpquota.tallytab
  &lt;/IfModule&gt;
</pre>
This assumes that you have defined your RADIUS quota attribute to have an ID
of 777, <i>e.g.</i>:
<pre>
  ATTRIBUTE       FTP-Quota                    777     string
</pre>

<br><hr>

<font size=2><b><i>
&copy; Copyright 2005-2006 TJ Saunders<br>
 All Rights Reserved<br>
</i></b></font>

<hr><br>

</body>
</html>

